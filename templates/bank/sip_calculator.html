{% extends 'base.html' %}
{% block title %}SIP Calculator{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-lg-10">
            <div class="card auth-card">
                <div class="card-body p-lg-5">
                    <div class="text-center mb-5">
                        <i class="fas fa-calculator fa-3x text-primary"></i>
                        <h2 class="mt-3">SIP Return Calculator</h2>
                        <p class="text-muted">Plan your future by estimating your investment returns.</p>
                    </div>
                    <div class="row g-4">
                        <div class="col-md-5">
                            <div class="mb-3">
                                <label for="monthlyInvestment" class="form-label fw-bold">Monthly Investment (₹)</label>
                                <input type="number" class="form-control form-control-lg" id="monthlyInvestment" value="10000">
                            </div>
                            <div class="mb-3">
                                <label for="interestRate" class="form-label fw-bold">Expected Return Rate (% p.a.)</label>
                                <input type="number" class="form-control form-control-lg" id="interestRate" value="12">
                            </div>
                            <div class="mb-3">
                                <label for="timePeriod" class="form-label fw-bold">Time Period (Years)</label>
                                <input type="number" class="form-control form-control-lg" id="timePeriod" value="10">
                            </div>
                        </div>
                        <div class="col-md-7 d-flex align-items-center">
                            <div class="text-center bg-light p-4 rounded-3 w-100">
                                <p class="text-muted mb-1">Invested Amount</p>
                                <p class="h3 fw-bold" id="investedAmount">₹ 12,00,000</p>
                                <hr>
                                <p class="text-muted mb-1">Estimated Returns</p>
                                <p class="h3 fw-bold" id="estimatedReturns">₹ 11,20,169</p>
                                <hr>
                                <p class="text-muted mb-1">Total Value</p>
                                <p class="display-5 fw-bold text-primary" id="totalValue">₹ 23,20,169</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const monthlyInvestmentEl = document.getElementById('monthlyInvestment');
    const interestRateEl = document.getElementById('interestRate');
    const timePeriodEl = document.getElementById('timePeriod');
    const investedAmountEl = document.getElementById('investedAmount');
    const estimatedReturnsEl = document.getElementById('estimatedReturns');
    const totalValueEl = document.getElementById('totalValue');
    function calculateSIP() {
        const p = parseFloat(monthlyInvestmentEl.value);
        const r = parseFloat(interestRateEl.value);
        const t = parseFloat(timePeriodEl.value);
        if (isNaN(p) || isNaN(r) || isNaN(t) || p <= 0 || r <= 0 || t <= 0) return;
        const i = r / 12 / 100;
        const n = t * 12;
        const totalAmount = p * (Math.pow(1 + i, n) - 1) / i;
        const invested = p * n;
        const returns = totalAmount - invested;
        const formatter = new Intl.NumberFormat('en-IN', { style: 'currency', currency: 'INR', minimumFractionDigits: 0, maximumFractionDigits: 0 });
        investedAmountEl.textContent = formatter.format(invested);
        estimatedReturnsEl.textContent = formatter.format(returns);
        totalValueEl.textContent = formatter.format(totalAmount);
    }
    [monthlyInvestmentEl, interestRateEl, timePeriodEl].forEach(el => el.addEventListener('input', calculateSIP));
    calculateSIP();
</script>
{% endblock %}